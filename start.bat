@echo off
cd /d "%~dp0"

REM --------------------------------------------------------
REM 1) 관리자 권한 확인
REM --------------------------------------------------------
net session >nul 2>&1
if %errorLevel% NEQ 0 (
    echo 관리자 권한이 필요합니다. 권한 상승을 시도합니다...
    powershell -Command "Start-Process -FilePath '%~f0' -Verb runAs"
    exit /b
)

REM --------------------------------------------------------
REM 2) 관리자 권한으로 Python 스크립트 실행
REM --------------------------------------------------------
REM 이 배치파일(.bat)과 같은 폴더에 있는 main.py를 실행합니다.
REM 필요에 따라 절대경로나 인수를 추가하세요.
set "PY_FILE=%~dp0main.py"

echo --------------------------------------------------------
echo 관리자 권한으로 %PY_FILE% 을(를) 실행 중...
echo --------------------------------------------------------

python "%PY_FILE%" %*
if %errorLevel% NEQ 0 (
    echo 오류 발생! 오류 코드: %errorLevel%
) else (
    echo 실행이 정상적으로 완료되었습니다.
)

pause
